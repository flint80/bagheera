# Введение #

Программа Багира предназначена для создания FB2-книг из различных WEB-источников информации, таких как RSS-ленты и форумы. Работает она, примерно, следующим образом. В какой-то момент программа получает содержимое RSS-ленты и формирует из него книжку в формате FB2. При этом программа запоминает момент генерации книжки. При повторном создании книжки программа использует только те новости, которые опубликованы после запомненного момента времени. После повторной генерации временная метка ленты обновляется. Таким образом, в очередной книжке Вы будете читать только новые новости. Аналогично производится работа и с постами форумов.

Программа позволяет создавать книжки как через графическую оболочку, так и через интерфейс командной строки.

По своему функционалу Багира повторяет замечательную программу [NMD Parser](http://sites.google.com/site/nmdparser/) . Я в течение некоторого времени пользовался этой программой и мне очень понравилось качество создаваемых FB2 книг. Это проверенная программа с отличной документацией и примерами. Использовать Багира я рекомендую в случае, если возможностей NMD Parser окажется недостаточным для решения Ваших задач.

> В очень грубом приближении, NMD Parser состоит из двух блоков:

  1. блок преобразования RSS-ленты в HTML-страничку
  1. блок преобразования HTML-страники в FB2-книжку

> Для решения первой задачи пользователю предлагается создать XML-файл, где декларативном стиле перечисляются инструкции по преобразованию данных RSS-ленты. Это накладывает существенные ограничения на фукнционльные возможности этого блока:

  1. XML-формат ограничивает спектр языковых конструкций (нет поддержки, например, операторов for, while, if и т.д., есть сложности с использованием переменных)
  1. поддерживается лишь ограниченный набор функций для обработки данных

> По сути, используя для реализации первого блока автору пришлось придумать свой язык обработки данных и придумать для него XML-схему. А придумывать новый язык - очень сложная задача, и здесь не обойтись без компромисов.

Как результат, мне не хватило предоставляемых возможностей для обработки [RSS-ленты Компьютерры](http://feeds.feedburner.com/ct_news?format=xml). Программу Багира можно рассматривать как надстройку над программой NMD Parser, в которой первый блок построен на другом принципе.

> Основой для этого блока является современный язык программирования - Groovy, поэтому вместо XML-файлов с инструкциями по обработке данных пользователю нужно писать Groovy-скрипты. Это позволило добиться следующих преимуществ:

  1. при написании инструкций становятся доступным все возможности полноценного языка программирования, поэтому можно писать скрипты любой сложности
  1. Groovy позволил создать микроязыки для обработки данных с форумов и RSS-лент, поэтому файлы с итоговыми инструкциями стали небольшими по размеру
  1. по признанию многих, синтаксис Groovy существенно упрощает задачи преобразования данных из одного формата в другой, а именно задачи этой категории возникают при обработке данных из WEB-источников

Несмотря на то что скрипты с инструкциями являются полноценной Groovy программой, их не нужно компилировать: достаточно написать скрипт и подложить его в определенную директорию - остальное Багира сделает сама. В этом аспекте Багира не отличается от NMD Parser - просто XML-файлы заменяются на Groovy-крипты.