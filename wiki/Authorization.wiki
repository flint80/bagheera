= Authorization =

В этом приложении описаны функции, добавленные Authorization.groovy. Эти функции позволяют залогиниться на сайт и разлогиниться с сайта.

 Функции становятся доступными в контексте authorize.login и authorize.logout :

{{{

authorize{
	login{
		...
	}
	logout{
		...
	}
}	  

}}}

== Контекст login ==

Логин производится с помощью отправки post-запроса, в котором указаны логин и пароль, поэтому все функции, которые доступны в контексте login связаны с конфигурацией post-запроса.

|| Функция || Описание ||
|| void url(String value) || Определяет url, по которому отправляется запрос. ||
|| void loginField(String value) || Определяет id текстового поля, в которое нужно вводить логин. ||
|| void login(String value) || Задает логин. ||
|| void passwordField(String value) || Определяет id текстового поля, в которое нужно вводить пароль. ||
|| void password(String value) || Задает пароль. ||

== Контекст logout ==

Логаут производится с помощью отправки get-запроса на указанный url. Зачастую, после этого нужно подтвердить намерение выйти, нажав на определенную кнопку на этой страничке. При этом, на самом деле, происходит отправка еще одного get-запроса, в параметрах которого закодирован ключ подтверждения. Соответственно, возникает задача выделить этот ключ из контента страницы, полученной по url.

|| Функция || Описание ||
|| void url(String value) || Определяет url, по которому отправляется запрос. ||
|| String confirmLogout{String content->...} || Задает алгоритм, по которому из контента, полученного по url, вычленяется адрес страницы подтверждения выхода. ||
